@import "styles/mixins";
@import "styles/variables";

.EditorBlock {
    margin: $editor-block-spacing-vertical 0;
    position: relative;

    &.extendedHitArea {
        $area-vertical-expansion: $spacing-3; // x2 if counted in both directions: up & down

        margin-top: $editor-block-spacing-vertical - $area-vertical-expansion;
        margin-bottom: $editor-block-spacing-vertical - $area-vertical-expansion;

        > .frame > .content {
            padding-top: $area-vertical-expansion;
            padding-bottom: $area-vertical-expansion;
        }
    }

    &.void {
        caret-color: transparent;
    }

    &.void > .frame {
        /**
         * Selection in Slate 0.50+ does not work as expected if a void block is selectable.
         * It could lead to an error when Slate is resolving the node which crashes the editor.
         *
         * Also, it's not possible to drag a node when it's selectable.
         *
         * see: https://app.clubhouse.io/prezly/story/19824/weird-selection-after-editing-an-attachment-or-image-or-gallery
         * see: https://app.clubhouse.io/prezly/story/20456/error-cannot-resolve-a-dom-node-from-slate-node-text
         */
        user-select: none;
    }
}

.Frame {
    max-width: 100%;
    white-space: normal;
    position: relative;
    caret-color: initial;

    &.alignLeft {
        margin-left: 0;
        margin-right: auto;
    }

    &.alignCenter {
        margin-left: auto;
        margin-right: auto;
    }

    &.alignRight {
        margin-left: auto;
        margin-right: 0;
    }
}

.Content {
    overflow: hidden;

    &.border {
        border: 1px solid $grey-200;

        &.selected {
            border-color: $editor-block-focus-color;
        }
    }

    &.rounded {
        border-radius: $border-radius-small;
    }

    &.hasError {
        color: $legacy-color-status-error;
        outline: solid 6px $legacy-color-status-error;
        border-radius: 0;
    }

    &.selected {
        outline: solid 6px $editor-block-focus-color;
        border-radius: 0;
    }
}

.Overlay {
    z-index: $editor-embed-element-overlay-z-index;
}

.Menu {
    z-index: $editor-embed-element-overlay-z-index + 2;
}

.ResizeButton {
    z-index: $editor-embed-element-overlay-z-index + 1;
    position: absolute;

    &.left {
        left: $spacing-1;
        bottom: $spacing-1;
    }

    &.right {
        right: $spacing-1;
        bottom: $spacing-1;
    }
}
